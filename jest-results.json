{"numFailedTestSuites":3,"numFailedTests":14,"numPassedTestSuites":17,"numPassedTests":74,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":20,"numTotalTests":88,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1745956293487,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Pinecone Metadata Compatibility Tests"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Pinecone Metadata Compatibility Tests should correctly format timestamps as compatible metadata for Pinecone","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should correctly format timestamps as compatible metadata for Pinecone"},{"ancestorTitles":["Pinecone Metadata Compatibility Tests"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Pinecone Metadata Compatibility Tests should correctly handle complex metadata structures for Pinecone compatibility","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should correctly handle complex metadata structures for Pinecone compatibility"},{"ancestorTitles":["Pinecone Metadata Compatibility Tests"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Pinecone Metadata Compatibility Tests should correctly format neural system phase metadata for the 3-phase system","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should correctly format neural system phase metadata for the 3-phase system"}],"endTime":1745956294987,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/PineconeMetadataTests.test.ts","startTime":1745956294446,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TranscriptionContextPersistence"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextPersistence Contexto temporário deve persistir entre diferentes instâncias de MemoryContextBuilder","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Contexto temporário deve persistir entre diferentes instâncias de MemoryContextBuilder"},{"ancestorTitles":["TranscriptionContextPersistence"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextPersistence Resetar temporaryContext deve afetar todas as instâncias","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Resetar temporaryContext deve afetar todas as instâncias"},{"ancestorTitles":["TranscriptionContextPersistence"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextPersistence resetAll deve limpar tanto snapshot quanto contexto temporário","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"resetAll deve limpar tanto snapshot quanto contexto temporário"},{"ancestorTitles":["TranscriptionContextPersistence"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextPersistence A memória do contexto temporário deve persistir entre chamadas","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"A memória do contexto temporário deve persistir entre chamadas"},{"ancestorTitles":["TranscriptionContextPersistence"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextPersistence Pinecone só deve ser consultado para o temporaryContext quando ele mudar","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"Pinecone só deve ser consultado para o temporaryContext quando ele mudar"}],"endTime":1745956294990,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TranscriptionContextPersistence.test.ts","startTime":1745956294450,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Integração IPC import-chatgpt-history"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"Integração IPC import-chatgpt-history deve importar apenas mensagens novas no modo incremental","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"deve importar apenas mensagens novas no modo incremental"},{"ancestorTitles":["Integração IPC import-chatgpt-history"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Integração IPC import-chatgpt-history deve importar todas as mensagens no modo overwrite","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"deve importar todas as mensagens no modo overwrite"}],"endTime":1745956295016,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/electron/ipcImport.integration.test.ts","startTime":1745956294458,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PineconeMemoryService (unit)"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService (unit) should cache identical queries for same user (namespace gerenciado internamente)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should cache identical queries for same user (namespace gerenciado internamente)"},{"ancestorTitles":["PineconeMemoryService (unit)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService (unit) should handle persistence service failure gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle persistence service failure gracefully"},{"ancestorTitles":["PineconeMemoryService (unit)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService (unit) should call electronAPIMock.queryPinecone in Node env","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should call electronAPIMock.queryPinecone in Node env"},{"ancestorTitles":["PineconeMemoryService (unit)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService (unit) should return empty string if not available or embedding is empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return empty string if not available or embedding is empty"},{"ancestorTitles":["PineconeMemoryService (unit)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService (unit) should handle rejected promises gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle rejected promises gracefully"}],"endTime":1745956295040,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/PineconeMemoryService.test.ts","startTime":1745956294448,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MemoryService - Isolation Between Namespaces"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"MemoryService - Isolation Between Namespaces deve garantir isolamento entre diferentes usuários com namespaces gerenciados internamente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deve garantir isolamento entre diferentes usuários com namespaces gerenciados internamente"},{"ancestorTitles":["MemoryService - Isolation Between Namespaces"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"MemoryService - Isolation Between Namespaces deve persistir o contexto temporário entre chamadas","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"deve persistir o contexto temporário entre chamadas"},{"ancestorTitles":["MemoryService - Isolation Between Namespaces"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"MemoryService - Isolation Between Namespaces deve atualizar o contexto temporário quando for diferente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deve atualizar o contexto temporário quando for diferente"}],"endTime":1745956295041,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/MemoryService.integration.test.ts","startTime":1745956294443,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Deve fazer nova consulta ao Pinecone quando instruções são modificadas","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Deve fazer nova consulta ao Pinecone quando instruções são modificadas"},{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Pequenas modificações nas instruções devem gerar nova consulta","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Pequenas modificações nas instruções devem gerar nova consulta"},{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Modificações de formatação (espaços extras) devem gerar nova consulta","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Modificações de formatação (espaços extras) devem gerar nova consulta"},{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Os embeddings devem ser diferentes para instruções diferentes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Os embeddings devem ser diferentes para instruções diferentes"},{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Deve preservar memória quando é feita a mesma consulta","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Deve preservar memória quando é feita a mesma consulta"},{"ancestorTitles":["TemporaryContextQueryBehavior"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextQueryBehavior Contexto dinâmico que muda entre chamadas deve gerar nova consulta","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Contexto dinâmico que muda entre chamadas deve gerar nova consulta"}],"endTime":1745956295056,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TemporaryContextQueryBehavior.test.ts","startTime":1745956294432,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ChatGPT Import with Chunking"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ChatGPT Import with Chunking should correctly split a long message into chunks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should correctly split a long message into chunks"},{"ancestorTitles":["ChatGPT Import with Chunking"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChatGPT Import with Chunking should track progress correctly while processing chunks","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should track progress correctly while processing chunks"},{"ancestorTitles":["ChatGPT Import with Chunking"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChatGPT Import with Chunking should calculate correct metadata for chunks","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should calculate correct metadata for chunks"}],"endTime":1745956295074,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/ChatGPTImport.test.ts","startTime":1745956295007,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TranscriptionSnapshotTracker"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Mensagem nova é tratada corretamente sem duplicações nem confusão de contexto","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Mensagem nova é tratada corretamente sem duplicações nem confusão de contexto"},{"ancestorTitles":["TranscriptionSnapshotTracker"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Multiple messages are properly deduplicated","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"Multiple messages are properly deduplicated"},{"ancestorTitles":["TranscriptionSnapshotTracker"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Temporary context é deduplicado entre execuções","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Temporary context é deduplicado entre execuções"},{"ancestorTitles":["TranscriptionSnapshotTracker"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Temporary context com objetos dinamicamente criados","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Temporary context com objetos dinamicamente criados"}],"endTime":1745956295112,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TranscriptionSnapshotTracker.test.ts","startTime":1745956294463,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MemoryService"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"MemoryService fetchContextualMemory should not throw and return valid SpeakerMemoryResults","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"fetchContextualMemory should not throw and return valid SpeakerMemoryResults"}],"endTime":1745956295132,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/MemoryService.test.ts","startTime":1745956295070,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ConversationHistoryManager"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConversationHistoryManager should initialize with system message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize with system message"},{"ancestorTitles":["ConversationHistoryManager"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ConversationHistoryManager should add messages and prune history when exceeding maxInteractions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should add messages and prune history when exceeding maxInteractions"}],"endTime":1745956295131,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/ConversationHistoryManager.test.ts","startTime":1745956295077,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TranscriptionContextManager"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextManager Deve manter o singleton em toda aplicação","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Deve manter o singleton em toda aplicação"},{"ancestorTitles":["TranscriptionContextManager"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextManager Deve persistir o contexto entre múltiplas chamadas","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Deve persistir o contexto entre múltiplas chamadas"},{"ancestorTitles":["TranscriptionContextManager"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextManager Não deve limpar o contexto quando undefined é passado","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Não deve limpar o contexto quando undefined é passado"},{"ancestorTitles":["TranscriptionContextManager"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextManager Deve substituir o contexto anterior quando string vazia é passada","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Deve substituir o contexto anterior quando string vazia é passada"},{"ancestorTitles":["TranscriptionContextManager"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionContextManager hasTemporaryContext deve retornar corretamente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"hasTemporaryContext deve retornar corretamente"}],"endTime":1745956295137,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TranscriptionContextManager.test.ts","startTime":1745956295087,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TranscriptionSnapshotTracker Basic Functionality"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Basic Functionality filterTranscription removes existing content","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"filterTranscription removes existing content"},{"ancestorTitles":["TranscriptionSnapshotTracker Basic Functionality"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Basic Functionality filtering twice returns empty string","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"filtering twice returns empty string"},{"ancestorTitles":["TranscriptionSnapshotTracker Basic Functionality"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Basic Functionality reset clears the snapshot","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"reset clears the snapshot"},{"ancestorTitles":["TranscriptionSnapshotTracker Basic Functionality"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TranscriptionSnapshotTracker Basic Functionality normalization handles whitespace and empty lines","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"normalization handles whitespace and empty lines"}],"endTime":1745956295144,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TranscriptionSnapshotTracker.simple.test.ts","startTime":1745956295098,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":5,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:31:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should create a buffer with proper initial state","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create a buffer with proper initial state"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":3,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:36:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should add messages to buffer without flushing if below threshold","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should add messages to buffer without flushing if below threshold"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":2,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:51:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should flush messages when token threshold is reached","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should flush messages when token threshold is reached"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:75:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should clear the buffer after flushing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clear the buffer after flushing"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":2,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:98:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should manually flush messages even if below threshold","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should manually flush messages even if below threshold"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":2,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:114:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should not flush if buffer is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not flush if buffer is empty"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:121:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should clear the buffer","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clear the buffer"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:137:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should handle messages with different roles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle messages with different roles"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:164:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should handle estimating tokens based on character count","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle estimating tokens based on character count"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:182:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should handle messages just below the token threshold","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle messages just below the token threshold"},{"ancestorTitles":["SymbolicMemoryBuffer"],"duration":1,"failureDetails":[{}],"failureMessages":["ReferenceError: SymbolicMemoryBuffer is not defined\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts:207:20)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SymbolicMemoryBuffer should correctly format messages with all supported role types","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should correctly format messages with all supported role types"}],"endTime":1745956295144,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should create a buffer with proper initial state\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 29 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m   it(\u001b[32m'should create a buffer with proper initial state'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 31 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m     expect(buffer)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m   \u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:31:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should add messages to buffer without flushing if below threshold\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 34 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m   it(\u001b[32m'should add messages to buffer without flushing if below threshold'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 36 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 38 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 39 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:36:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should flush messages when token threshold is reached\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 49 |\u001b[39m   it(\u001b[32m'should flush messages when token threshold is reached'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m     \u001b[90m// We'll use a token threshold of 5 and ensure our mock returns more tokens than that\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 51 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m5\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 52 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 53 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 54 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'Test message that exceeds token threshold'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:51:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should clear the buffer after flushing\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 73 |\u001b[39m     \u001b[90m// Criamos um buffer com threshold maior que o conteúdo da mensagem\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m     \u001b[90m// para garantir que não haja flush imediato numa única mensagem\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 75 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m10\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m\u001b[33m,\u001b[39m  \u001b[90m// Apenas 4 caracteres = ~1 token\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:75:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should manually flush messages even if below threshold\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  96 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m  97 |\u001b[39m   it(\u001b[32m'should manually flush messages even if below threshold'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  98 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  99 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 100 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 101 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:98:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should not flush if buffer is empty\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 112 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m   it(\u001b[32m'should not flush if buffer is empty'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 114 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 116 |\u001b[39m     \u001b[36mawait\u001b[39m buffer\u001b[33m.\u001b[39mflush()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 117 |\u001b[39m     expect(mockFlushCallback)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:114:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should clear the buffer\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 119 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m   it(\u001b[32m'should clear the buffer'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 121 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:121:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should handle messages with different roles\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 135 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 136 |\u001b[39m   it(\u001b[32m'should handle messages with different roles'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 137 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 138 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m     \u001b[36mconst\u001b[39m userMessage\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 140 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'User message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:137:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should handle estimating tokens based on character count\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m   it(\u001b[32m'should handle estimating tokens based on character count'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m20\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m     \u001b[90m// Create a message with 70 characters (should be ~20 tokens with 3.5 char per token)\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     \u001b[36mconst\u001b[39m longMessage\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:164:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should handle messages just below the token threshold\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 180 |\u001b[39m     \u001b[90m// Nosso mock de gpt-tokenizer calcula aprox. 1 token a cada 4 caracteres\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 181 |\u001b[39m     \u001b[90m// Vamos ajustar para usar isso corretamente\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 182 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m15\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 183 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 184 |\u001b[39m     \u001b[90m// Com nosso mock, isso gera ~11 tokens (40 caracteres / 4 + formatação)\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 185 |\u001b[39m     \u001b[36mconst\u001b[39m message\u001b[33m:\u001b[39m \u001b[33mBufferedMessage\u001b[39m \u001b[33m=\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:182:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSymbolicMemoryBuffer › should correctly format messages with all supported role types\u001b[39m\u001b[22m\n\n    ReferenceError: SymbolicMemoryBuffer is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 205 |\u001b[39m   \u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m   it(\u001b[32m'should correctly format messages with all supported role types'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 207 |\u001b[39m     \u001b[36mconst\u001b[39m buffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSymbolicMemoryBuffer\u001b[39m(\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m mockFlushCallback)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 209 |\u001b[39m     \u001b[36mawait\u001b[39m buffer\u001b[33m.\u001b[39madd({\u001b[22m\n\u001b[2m     \u001b[90m 210 |\u001b[39m       content\u001b[33m:\u001b[39m \u001b[32m'User message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:207:20)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/utils/SymbolicMemoryBuffer.test.ts","startTime":1745956294406,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["LoggingUtils"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LoggingUtils should log info and error with correct prefix","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should log info and error with correct prefix"}],"endTime":1745956295155,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/LoggingUtils.test.ts","startTime":1745956295098,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MemoryContextBuilder (unit)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MemoryContextBuilder (unit) should return empty SpeakerMemoryResults if embedding is not initialized","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return empty SpeakerMemoryResults if embedding is not initialized"},{"ancestorTitles":["MemoryContextBuilder (unit)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"MemoryContextBuilder (unit) should call persistenceService.queryMemory for external speakers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call persistenceService.queryMemory for external speakers"}],"endTime":1745956295158,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/MemoryContextBuilder.test.ts","startTime":1745956295078,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Deve diferenciar strings com pequenas variações (espaços, formatação)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Deve diferenciar strings com pequenas variações (espaços, formatação)"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Strings vazias e undefined são tratados corretamente","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Strings vazias e undefined são tratados corretamente"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Consultas múltiplas em rápida sucessão","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Consultas múltiplas em rápida sucessão"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Falha na consulta ao Pinecone","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Falha na consulta ao Pinecone"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Contextos muito longos são tratados adequadamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Contextos muito longos são tratados adequadamente"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Reinicialização do contexto reseta adequadamente","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Reinicialização do contexto reseta adequadamente"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Alterações mínimas em contextos longos geram consultas completas","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Alterações mínimas em contextos longos geram consultas completas"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Contexto undefined seguido de string vazia","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Contexto undefined seguido de string vazia"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Interações entre setTemporaryContext e fetchContextualMemory","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Interações entre setTemporaryContext e fetchContextualMemory"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases clearTemporaryContext limpa todos os aspectos do contexto","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"clearTemporaryContext limpa todos os aspectos do contexto"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases clearTemporaryContext limpa o último contexto consultado","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"clearTemporaryContext limpa o último contexto consultado"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases clearTemporaryContext vs resetAll","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"clearTemporaryContext vs resetAll"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Preservação do contexto após clearTemporaryContext","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Preservação do contexto após clearTemporaryContext"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases clearTemporaryContext limpa explicitamente lastQueriedTemporaryContext","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"clearTemporaryContext limpa explicitamente lastQueriedTemporaryContext"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases clearTemporaryContext afeta todas as instâncias de MemoryContextBuilder","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"clearTemporaryContext afeta todas as instâncias de MemoryContextBuilder"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases Interação entre clearTemporaryContext e updateLastQueriedTemporaryContext","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"Interação entre clearTemporaryContext e updateLastQueriedTemporaryContext"},{"ancestorTitles":["TemporaryContextEdgeCases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TemporaryContextEdgeCases hasTemporaryContextChanged lida corretamente com strings vazias","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"hasTemporaryContextChanged lida corretamente com strings vazias"}],"endTime":1745956295173,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/tests/TemporaryContextEdgeCases.test.ts","startTime":1745956294445,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests countTokens deve contar tokens corretamente com o modelo text-embedding-3-large","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"countTokens deve contar tokens corretamente com o modelo text-embedding-3-large"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests A estrutura do buffer pode ser manipulada diretamente","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"A estrutura do buffer pode ser manipulada diretamente"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests countBufferTokens deve contar corretamente os tokens no buffer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"countBufferTokens deve contar corretamente os tokens no buffer"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests groupTranscriptionsBySpeaker deve agrupar corretamente as transcrições por falante","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"groupTranscriptionsBySpeaker deve agrupar corretamente as transcrições por falante"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":10,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/tests/PineconeBuffer.test.ts:255:41)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"PineconeMemoryService Buffer Tests shouldFlushBuffer deve identificar corretamente quando o buffer deve ser esvaziado com base nos tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"shouldFlushBuffer deve identificar corretamente quando o buffer deve ser esvaziado com base nos tokens"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests saveInteraction deve adicionar mensagens ao buffer corretamente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"saveInteraction deve adicionar mensagens ao buffer corretamente"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests O buffer deve acumular mensagens pequenas e fazer flush apenas quando o shouldFlushBuffer retorna true","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"O buffer deve acumular mensagens pequenas e fazer flush apenas quando o shouldFlushBuffer retorna true"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests O buffer deve evitar duplicatas adjacentes mantendo a integridade do histórico","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"O buffer deve evitar duplicatas adjacentes mantendo a integridade do histórico"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PineconeMemoryService Buffer Tests O buffer deve preservar mensagens de usuário ao salvar respostas do assistente","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"O buffer deve preservar mensagens de usuário ao salvar respostas do assistente"},{"ancestorTitles":["PineconeMemoryService Buffer Tests"],"duration":2,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/tests/PineconeBuffer.test.ts:618:43)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"PineconeMemoryService Buffer Tests O buffer só deve ser limpo quando o limite de tokens for atingido","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"O buffer só deve ser limpo quando o limite de tokens for atingido"}],"endTime":1745956295216,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPineconeMemoryService Buffer Tests › shouldFlushBuffer deve identificar corretamente quando o buffer deve ser esvaziado com base nos tokens\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 253 |\u001b[39m     service\u001b[33m.\u001b[39mcountBufferTokens \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockReturnValue(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// tokens abaixo do mínimo\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 254 |\u001b[39m     service\u001b[33m.\u001b[39mmessageBuffer\u001b[33m.\u001b[39mlastFlushTime \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m600000\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// 10 minutos atrás (> maxBufferAgeMs)\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 255 |\u001b[39m     expect(service\u001b[33m.\u001b[39mshouldFlushBuffer())\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// agora deve fazer flush por tempo\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 256 |\u001b[39m     \u001b[22m\n\u001b[2m     \u001b[90m 257 |\u001b[39m     \u001b[90m// 5. Teste: Inatividade do usuário aciona flush independentemente da quantidade de tokens\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 258 |\u001b[39m     service\u001b[33m.\u001b[39mmessageBuffer \u001b[33m=\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/PineconeBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:255:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPineconeMemoryService Buffer Tests › O buffer só deve ser limpo quando o limite de tokens for atingido\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 616 |\u001b[39m       \u001b[90m// Mesmo com tempos excedidos, deve fazer flush por tempo máximo do buffer\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 617 |\u001b[39m       service\u001b[33m.\u001b[39mcountBufferTokens \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockReturnValue(\u001b[35m30\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 30 tokens (abaixo do mínimo)\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 618 |\u001b[39m       expect(service\u001b[33m.\u001b[39mshouldFlushBuffer())\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 619 |\u001b[39m     } \u001b[36mfinally\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 620 |\u001b[39m       \u001b[90m// Restaurar métodos originais\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 621 |\u001b[39m       service\u001b[33m.\u001b[39mcountBufferTokens \u001b[33m=\u001b[39m originalCountTokens\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/PineconeBuffer.test.ts\u001b[39m\u001b[0m\u001b[2m:618:43)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/tests/PineconeBuffer.test.ts","startTime":1745956294406,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ConversationImportService E2E"],"duration":56,"failureDetails":[],"failureMessages":[],"fullName":"ConversationImportService E2E deve importar conversas e processar o arquivo JSON corretamente","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deve importar conversas e processar o arquivo JSON corretamente"}],"endTime":1745956295254,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/ConversationImportService.e2e.test.tsx","startTime":1745956294401,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TranscriptionPanel Importação E2E"],"duration":76,"failureDetails":[{}],"failureMessages":["Error: useCognitionLog must be used within a CognitionLogProvider\n    at useCognitionLog (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/CognitionLogContext.tsx:76:11)\n    at TranscriptionPanel (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/shared/TranscriptionPanel.tsx:67:92)\n    at renderWithHooks (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n    at mountIndeterminateComponent (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n    at beginWork (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n    at beginWork$1 (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n    at performUnitOfWork (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n    at workLoopSync (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n    at renderRootSync (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n    at recoverFromConcurrentError (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n    at performConcurrentWorkOnRoot (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n    at flushActQueue (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react/cjs/react.development.js:2667:24)\n    at act (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/react/cjs/react.development.js:2582:11)\n    at /Users/guilhermeferraribrescia/nu-viss-laug/node_modules/@testing-library/react/dist/act-compat.js:47:25\n    at renderRoot (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/@testing-library/react/dist/pure.js:190:26)\n    at render (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/@testing-library/react/dist/pure.js:292:10)\n    at Object.<anonymous> (/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/TranscriptionPanel.test.tsx:223:11)\n    at Promise.then.completed (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/guilhermeferraribrescia/nu-viss-laug/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"TranscriptionPanel Importação E2E deve importar conversas, mostrar progresso e resumo","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"deve importar conversas, mostrar progresso e resumo"}],"endTime":1745956295456,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTranscriptionPanel Importação E2E › deve importar conversas, mostrar progresso e resumo\u001b[39m\u001b[22m\n\n    useCognitionLog must be used within a CognitionLogProvider\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 74 |\u001b[39m   \u001b[36mconst\u001b[39m context \u001b[33m=\u001b[39m useContext(\u001b[33mCognitionLogContext\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 75 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mcontext) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'useCognitionLog must be used within a CognitionLogProvider'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m   }\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m   \u001b[36mreturn\u001b[39m context\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat useCognitionLog (\u001b[22m\u001b[2msrc/components/context/CognitionLogContext.tsx\u001b[2m:76:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TranscriptionPanel (\u001b[22m\u001b[2msrc/components/shared/TranscriptionPanel.tsx\u001b[2m:67:92)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderWithHooks (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:15486:18)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat mountIndeterminateComponent (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:20103:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:21626:16)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beginWork$1 (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:27465:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performUnitOfWork (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:26599:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat workLoopSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:26505:5)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRootSync (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:26473:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat recoverFromConcurrentError (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:25889:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat performConcurrentWorkOnRoot (\u001b[22m\u001b[2mnode_modules/react-dom/cjs/react-dom.development.js\u001b[2m:25789:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat flushActQueue (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:2667:24)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:2582:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:47:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat renderRoot (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:190:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat render (\u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:292:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/components/context/deepgram/services/memory/TranscriptionPanel.test.tsx\u001b[39m\u001b[0m\u001b[2m:223:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/components/context/deepgram/services/memory/TranscriptionPanel.test.tsx","startTime":1745956294405,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["importChatGPTHistoryHandler"],"duration":556,"failureDetails":[],"failureMessages":[],"fullName":"importChatGPTHistoryHandler importa apenas mensagens novas no modo incremental","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"importa apenas mensagens novas no modo incremental"},{"ancestorTitles":["importChatGPTHistoryHandler"],"duration":522,"failureDetails":[],"failureMessages":[],"fullName":"importChatGPTHistoryHandler importa todas as mensagens no modo overwrite","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"importa todas as mensagens no modo overwrite"}],"endTime":1745956296209,"message":"","name":"/Users/guilhermeferraribrescia/nu-viss-laug/src/electron/importChatGPTHandler.test.ts","startTime":1745956294469,"status":"passed","summary":""}],"wasInterrupted":false}
